<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<!--    <title>Title</title>-->
    <style>
        body {
    font-family: -apple-system, system-ui, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Arial !important;
}

.markdown-body {
    word-break: break-word;
    line-height: 1.75;
    font-weight: 400;
    font-size: 16px;
    overflow-x: hidden;
    color: #333
}

.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
    line-height: 1.5;
    margin-top: 35px;
    margin-bottom: 10px;
    padding-bottom: 5px
}

.markdown-body h1 {
    font-size: 24px;
    margin-bottom: 5px
}

.markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
    font-size: 20px
}

.markdown-body h2 {
    padding-bottom: 12px;
    border-bottom: 1px solid #ececec
}

.markdown-body h3 {
    font-size: 18px;
    padding-bottom: 0
}

.markdown-body h6 {
    margin-top: 5px
}

.markdown-body p {
    line-height: inherit;
    margin-top: 22px;
    margin-bottom: 22px
}

.markdown-body img {
    max-width: 100%
}

.markdown-body hr {
    border: none;
    border-top: 1px solid #ddd;
    margin-top: 32px;
    margin-bottom: 32px
}

.markdown-body code {
    word-break: break-word;
    border-radius: 2px;
    overflow-x: auto;
    background-color: #fff5f5;
    color: #ff502c;
    font-size: .87em;
    padding: .065em .4em
}

.markdown-body code, .markdown-body pre {
    font-family: Menlo, Monaco, Consolas, Courier New, monospace
}

.markdown-body pre {
    overflow: auto;
    position: relative;
    line-height: 1.75
}

.markdown-body pre > code {
    font-size: 12px;
    padding: 15px 12px;
    margin: 0;
    word-break: normal;
    display: block;
    overflow-x: auto;
    color: #333;
    background: #f8f8f8
}

.markdown-body a {
    text-decoration: none;
    color: #0269c8;
    border-bottom: 1px solid #d1e9ff
}

.markdown-body a:active, .markdown-body a:hover {
    color: #275b8c
}

.markdown-body table {
    display: inline-block !important;
    font-size: 12px;
    width: auto;
    max-width: 100%;
    overflow: auto;
    border: 1px solid #f6f6f6
}

.markdown-body thead {
    background: #f6f6f6;
    color: #000;
    text-align: left
}

.markdown-body tr:nth-child(2n) {
    background-color: #fcfcfc
}

.markdown-body td, .markdown-body th {
    padding: 12px 7px;
    line-height: 24px
}

.markdown-body td {
    min-width: 120px
}

.markdown-body blockquote {
    color: #666;
    padding: 1px 23px;
    margin: 22px 0;
    border-left: 4px solid #cbcbcb;
    background-color: #f8f8f8
}

.markdown-body blockquote:after {
    display: block;
    content: ""
}

.markdown-body blockquote > p {
    margin: 10px 0
}

.markdown-body ol, .markdown-body ul {
    padding-left: 28px
}

.markdown-body ol li, .markdown-body ul li {
    margin-bottom: 0;
    list-style: inherit
}

.markdown-body ol li .task-list-item, .markdown-body ul li .task-list-item {
    list-style: none
}

.markdown-body ol li .task-list-item ol, .markdown-body ol li .task-list-item ul, .markdown-body ul li .task-list-item ol, .markdown-body ul li .task-list-item ul {
    margin-top: 0
}

.markdown-body ol ol, .markdown-body ol ul, .markdown-body ul ol, .markdown-body ul ul {
    margin-top: 3px
}

.markdown-body ol li {
    padding-left: 6px
}

.markdown-body .contains-task-list {
    padding-left: 0
}

.markdown-body .task-list-item {
    list-style: none
}

@media (max-width: 720px) {
    .markdown-body h1 {
        font-size: 24px
    }

    .markdown-body h2 {
        font-size: 20px
    }

    .markdown-body h3 {
        font-size: 18px
    }
}
    </style>
</head>
<body>
<div class="markdown-body">
    <h1>ç¬¬å…­å¤© UIç»„ä»¶å°è£…</h1>
<h2>ç¬¬ä¸€ä¸ªæ•…äº‹ï¼šé¦–é¡µè½®æ’­å›¾</h2>
<p>ç»„ä»¶å°è£…æ˜¯ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆè¿›é˜¶çš„å¿…ç»ä¹‹è·¯ã€‚ç»„ä»¶å°è£…æ˜¯æŒ‡Webé¡µé¢ä¸ŠæŠ½å‡ºæ¥ä¸€ä¸ªä¸ªåŒ…å«æ¨¡ç‰ˆï¼ˆHTMLï¼‰ã€åŠŸèƒ½ï¼ˆJavascriptï¼‰å’Œæ ·å¼ï¼ˆCSSï¼‰çš„å•å…ƒã€‚æ‰€ä»¥ï¼Œä»Šå¤©çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†å¸¦ä½ äº†è§£ç»„ä»¶å°è£…çš„å¼€å‘æ€è·¯ï¼Œè®©ä½ çš„ç»„ä»¶å…·å¤‡<strong>å°è£…æ€§</strong>ã€<strong>æ­£ç¡®æ€§</strong>ã€<strong>æ‰©å±•æ€§</strong>å’Œ<strong>å¤ç”¨æ€§</strong>ã€‚</p>
<p>æˆ‘ä»¬ä»¥å®ç°ä¸€ä¸ªé¦–é¡µè½®æ’­å›¾çš„UIç»„ä»¶ä¸ºä¾‹ï¼Œè¿™ä¸ªç»„ä»¶çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="img\9e33af74-ae6f-11ed-8322-342eb7027b95.jpg" alt=""></p>
<p>ä¸Šå›¾ä¸­çš„ç»„ä»¶å®ç°äº†3ä¸ªåŠŸèƒ½ï¼š</p>
<ol>
<li>å››å¼ å›¾ç‰‡å¾ªç¯æ’­æ”¾ï¼Œæ¯å¼ å›¾ç‰‡åœç•™è‹¥å¹²æ—¶é—´ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»å·¦å³ä¸¤è¾¹çš„å°ç®­å¤´æ—¶ï¼Œå›¾ç‰‡åˆ†åˆ«åˆ‡æ¢åˆ°ä¸Šä¸€å¼ /ä¸‹ä¸€å¼ ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»åº•éƒ¨çš„å°åœ†ç‚¹çš„æ—¶å€™ï¼Œåˆ™ç«‹å³è·³åˆ°å°åœ†ç‚¹é¡ºåºæ‰€å¯¹åº”çš„é‚£å¼ å›¾ç‰‡ã€‚</li>
</ol>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±å¸¦ä½ ä¸€æ­¥æ­¥å®ç°è¿™ä¸ªç»„ä»¶ï¼š</p>
<h3>ç¬¬ä¸€æ­¥ï¼šç¡®å®šUIç»„ä»¶çš„HTMLç»“æ„ã€‚</h3>
<p>æ ¹æ®æ•ˆæœå›¾ï¼Œè¿™ä¸ªç»„ä»¶åŒ…å«äº†4å¼ å›¾ç‰‡ï¼Œ4å¼ å›¾ç‰‡å°±éœ€è¦æœ‰4ä¸ªHTMLå…ƒç´ æ¥å°è£…ã€‚ä½ å¯ä»¥é‡‡ç”¨4ä¸ªå—çº§å…ƒç´ æ¥å®‰æ’ï¼Œæ¯”å¦‚<code>div</code>å…ƒç´ ç­‰ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¿™4å¼ å›¾çœ‹ä½œæ˜¯ä¸€ä¸ªå›¾ç‰‡åˆ—è¡¨ï¼Œä½¿ç”¨åˆ—è¡¨å…ƒç´ ä½œä¸ºå›¾ç‰‡çš„å®¹å™¨ï¼š</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">ul</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item--selected"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p5.ssl.qhimg.com/t0119c74624763dd070.png"</span>/></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p4.ssl.qhimg.com/t01adbe3351db853eb3.jpg"</span>/></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p2.ssl.qhimg.com/t01645cd5ba0c3b60cb.jpg"</span>/></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p4.ssl.qhimg.com/t01331ac159b58f5478.jpg"</span>/></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">ul</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__next"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__previous"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons--selected"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>
<p>ä¸Šé¢çš„HTMLç»“æ„ä¸­ï¼Œé¦–å…ˆæ˜¯ä¸€ä¸ªå¤§çš„å®¹å™¨ï¼Œ<code>div.slider</code>ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª<code>ul</code>åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ˜¯åŒ…å«å››å¼ å›¾ç‰‡çš„å››ä¸ª<code>li</code>å…ƒç´ ã€‚</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ª<code>&#x3C;a></code>å…ƒç´ åˆ†åˆ«è¡¨ç¤ºâ€œä¸‹ä¸€å¼ â€œå’Œâ€ä¸Šä¸€å¼ â€œçš„æ§åˆ¶</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__next"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span> 
<span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__previous"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
</code></pre>
<p>ç”¨å››ä¸ª<code>&#x3C;span></code>å…ƒç´ è¡¨ç¤ºåº•éƒ¨çš„å››ä¸ªå°åœ†ç‚¹çš„æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons--selected"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__control-buttons"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">span</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>
<p><em>å½“ç„¶è¿™äº›æ§åˆ¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„HTMLå…ƒç´ æ¥è¡¨ç¤ºã€‚</em></p>
<p>ğŸ’¡æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„CSSè§„åˆ™åæœ‰ç‚¹ç‰¹åˆ«ï¼Œå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°å¯èƒ½ä¼šè§‰å¾—æœ‰äº›å¥‡æ€ªã€‚å®é™…ä¸Šè¿™é‡Œçš„å‘½åæ˜¯ä¸€ç§CSSä¹¦å†™è§„èŒƒï¼Œå«åš<code>BEM</code>ï¼Œæ˜¯è‹±æ–‡<code>Block-Element-Modifier</code>çš„ç®€å†™ã€‚</p>
<p>è¿™ä¸€è§„èŒƒé‡‡ç”¨ä¸‰ä¸ªéƒ¨åˆ†æ¥æè¿°è§„åˆ™ï¼Œé¦–å…ˆæ˜¯Blockè¡¨ç¤ºç»„ä»¶åï¼Œè¿™ä¸ªä»»åŠ¡æ˜¯å†™è½®æ’­å›¾ï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªç»„ä»¶èµ·åå­—å«<code>slider</code>ã€‚ç„¶åæ˜¯Elementï¼Œæ¯”å¦‚å¯¹åº”çš„åˆ—è¡¨é¡¹<code>li</code>å…ƒç´ ï¼Œè¡¨ç¤ºitemï¼Œæ‰€ä»¥å®ƒçš„classå°±æ˜¯<code>slider__item</code>ï¼Œè¿™é‡ŒBlockå’ŒElementä¹‹é—´ä½¿ç”¨åŒä¸‹åˆ’çº¿<code>__</code>è¿æ¥ã€‚æœ€åæ˜¯Modifierè¡¨ç¤ºçŠ¶æ€ï¼Œå…¶ä¸­ä¸€ä¸ªåˆ—è¡¨çš„çŠ¶æ€æ˜¯<code>selected</code>ï¼Œæ‰€ä»¥æœ€ç»ˆçš„classæ˜¯<code>slider__item--selected</code>ï¼Œè¿™é‡ŒElementå’ŒModifierä¹‹é—´ä½¿ç”¨åŒæ¨ªæ <code>--</code>è¿æ¥ã€‚</p>
<p>åœ¨æ¯”è¾ƒå¤æ‚çš„UIç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>BEM</code>æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<ol>
<li>
<p>è®©CSSè§„åˆ™ä¿æŒç›¸å¯¹ç®€å•ï¼Œåªç”¨ä¸€ä¸ªclasså°±èƒ½å®šä½å¯¹åº”çš„å…ƒç´ ï¼Œè¿™æ ·ä¼˜å…ˆçº§ä¹Ÿç›¸å¯¹æ‰å¹³ï¼Œç®¡ç†èµ·æ¥ä¸å®¹æ˜“å†²çªã€‚</p>
</li>
<li>
<p>é˜…è¯»ä»£ç çš„äººä¸€çœ¼å¯ä»¥çŸ¥é“ä¸€ä¸ªå…ƒç´ æ˜¯å“ªä¸ªç»„ä»¶çš„å“ªä¸ªéƒ¨åˆ†ã€‚ç”±äºç»„ä»¶å¤æ‚çš„æ—¶å€™ï¼ŒHTMLä»£ç æ¯”è¾ƒé•¿ï¼Œå¯èƒ½å…ƒç´ ç¦»ç»„ä»¶å®¹å™¨æ¯”è¾ƒè¿œï¼Œå¦‚æœä½¿ç”¨æ™®é€šå±‚çº§å…³ç³»ï¼Œä½ çœ‹åˆ°ä¸€ä¸ª<code>.item</code>å…ƒç´ ï¼Œé™¤éæ‰¾åˆ°å¤–å±‚çš„<code>.slider</code>ï¼Œä½ æ‰èƒ½çŸ¥é“å®ƒå±äº<code>.slider</code>ç»„ä»¶è€Œä¸æ˜¯å…¶ä»–ç»„ä»¶çš„<code>.item</code>ï¼Œé‚£æ ·åœ¨HTMLä»£ç å¾ˆå¤æ‚çš„æ—¶å€™æ‰¾èµ·æ¥å°±æ¯”è¾ƒè´¹åŠ²ã€‚</p>
</li>
</ol>
<h3>ç¬¬äºŒæ­¥ï¼šè®¾ç½®å…ƒç´ çš„æ ·å¼</h3>
<p>ç„¶åæ ¹æ®æ•ˆæœå›¾ï¼Œæˆ‘ä»¬ç»™è¿™æ®µHTMLä»£ç æ·»åŠ CSSæ ·å¼ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ç»™<code>class=slider</code>çš„<code>div</code>å…ƒç´ è®¾ç½®äº†å®½åº¦å’Œé«˜åº¦ï¼Œä»¥åŠå–æ¶ˆ<code>ul</code>å…ƒç´ é»˜è®¤çš„åˆ—è¡¨æ ·å¼ï¼š</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.slider</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">790px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">340px</span>;
}

<span class="hljs-selector-class">.slider</span> <span class="hljs-selector-tag">ul</span> {
  <span class="hljs-attribute">list-style-type</span>:none;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<p>ç„¶åï¼Œå°†<code>class=slider__item</code>å’Œ<code>class=slider__item--selected</code>çš„<code>li</code>å…ƒç´ çš„positionå±æ€§è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼ˆabsoluteï¼‰ï¼Œè¿™æ ·å°±èƒ½å¤Ÿå°†è¿™4å¼ å›¾ç‰‡é‡å æ˜¾ç¤ºåœ¨åŒä¸€ä¸ªä½ç½®ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.slider__item</span>,
<span class="hljs-selector-class">.slider__item--selected</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span>;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.slider__item--selected</span> {
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">1s</span>;
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
}
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>transition: opacity 1s</code>è¡¨ç¤ºè®¾ç½®å›¾ç‰‡é€æ˜åº¦å˜åŒ–çš„åŠ¨ç”»ï¼Œæ—¶é—´ä¸º1ç§’ã€‚çŠ¶æ€ä¸º<code>slider__item</code>æ—¶ï¼Œæ˜¾ç¤ºä¸ºé€æ˜ã€‚çŠ¶æ€ä¸º<code>slider__item--selected</code>æ—¶æ˜¾ç¤ºä¸ºä¸é€æ˜ã€‚</p>
<p>æ¥ç€æ˜¯æ§åˆ¶å…ƒç´ çš„æ ·å¼ï¼š</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.slider__next</span>,
<span class="hljs-selector-class">.slider__previous</span>{
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>; <span class="hljs-comment">/*å®šä½åœ¨å½•æ’­å›¾ç»„ä»¶çš„çºµå‘ä¸­é—´çš„ä½ç½®*/</span>
  <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">25px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">height</span>:<span class="hljs-number">50px</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">50px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>); <span class="hljs-comment">/*è®¾ç½®ä¸ºåŠé€æ˜*/</span>
  <span class="hljs-attribute">cursor</span>: pointer; <span class="hljs-comment">/*è®¾ç½®é¼ æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå…ƒç´ æ—¶æ˜¾ç¤ºä¸ºæ‰‹æŒ‡çŠ¶*/</span>
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/*åˆå§‹çŠ¶æ€ä¸ºé€æ˜*/</span>
  <span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">5s</span>; <span class="hljs-comment">/*è®¾ç½®é€æ˜åº¦å˜åŒ–çš„åŠ¨ç”»ï¼Œæ—¶é—´ä¸º.5ç§’*/</span>
}

<span class="hljs-selector-class">.slider__previous</span> {
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/*å®šä½åœ¨sliderå…ƒç´ çš„æœ€å·¦è¾¹*/</span>
}

<span class="hljs-selector-class">.slider__next</span> {
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/*å®šä½åœ¨sliderå…ƒç´ çš„æœ€å³è¾¹*/</span>
}

<span class="hljs-selector-class">.slider</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.slider__previous</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
}

<span class="hljs-selector-class">.slider</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.slider__next</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
}

<span class="hljs-selector-class">.slider__previous</span><span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">'&#x3C;'</span>;
}

<span class="hljs-selector-class">.slider__next</span><span class="hljs-selector-pseudo">:after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">'>'</span>;
}
</code></pre>
<p>ä¸Šé¢çš„è§„åˆ™ä¸­ï¼Œ<code>.slider__next, .slider__previous</code>åˆ†åˆ«è¡¨ç¤ºâ€œå‘ä¸‹ä¸€å¼ â€å’Œâ€œå‘ä¸Šä¸€å¼ â€çš„æ§åˆ¶ã€‚åˆå§‹çŠ¶æ€ä¸‹ï¼Œè¿™ä¸¤ä¸ªæ§åˆ¶å…ƒç´ çš„èƒŒæ™¯è‰²ä¸ºåŠé€æ˜ï¼Œå­—ä½“é¢œè‰²æ˜¯ç™½è‰²ã€‚</p>
<p><code>.slider:hover .slider__previous</code> å’Œ <code>.slider:hover .slider__next</code>è¿™ä¸¤æ¡è§„åˆ™è¡¨ç¤ºå½“é¼ æ ‡æ‚¬åœåœ¨<code>class=slider</code>çš„å…ƒç´ ä¸Šæ—¶ï¼Œæ˜¾ç¤ºå·¦å³ä¸¤ä¾§çš„æ§åˆ¶å…ƒç´ ã€‚</p>
<p>æœ€åï¼Œå®šä¹‰åº•éƒ¨å››ä¸ªå°ç‚¹çš„æ ·å¼ï¼š</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.slider__control</span>{
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">display</span>: table; <span class="hljs-comment">/* table å¸ƒå±€*/</span>
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">margin</span>: auto;
}

<span class="hljs-selector-class">.slider__control-buttons</span>,
<span class="hljs-selector-class">.slider__control-buttons--selected</span>{
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;<span class="hljs-comment">/*è®¾ç½®ä¸ºåœ†å½¢*/</span>
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">background-color</span>: white;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.slider__control-buttons--selected</span> {
  <span class="hljs-attribute">background-color</span>: red;
}
</code></pre>
<p>ä¸Šé¢çš„è§„åˆ™ä¸­ï¼Œ</p>
<ul>
<li>
<p>ç¬¬ä¸€æ¡è§„åˆ™è¡¨ç¤ºç»™å››ä¸ªå°åœ†ç‚¹è®¾ç½®ä¸€ä¸ªç°è‰²çš„èƒŒæ™¯ã€‚å…¶ä¸­çš„<code>position: relative; display: table;</code>å£°æ˜è¡¨ç¤ºå°†å®ƒçš„å­å…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯4ä¸ªå°åœ†ç‚¹ï¼‰é‡‡ç”¨ç›¸å¯¹å®šä½å’Œtableå¸ƒå±€ï¼Œè®©å®ƒä»¬å›ºå®šæ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸­éƒ¨ä¸‹æ–¹ã€‚</p>
</li>
<li>
<p>ç¬¬äºŒæ¡è§„åˆ™è®¾ç½®äº†å°åœ†ç‚¹çš„å¤§å°ï¼Œå½¢çŠ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå°åœ†ç‚¹çš„é¢œè‰²ï¼ˆç™½è‰²ï¼‰ï¼Œä»¥åŠé¼ æ ‡æ»‘å…¥åçš„çŠ¶æ€ï¼ˆpointer)</p>
</li>
<li>
<p>ç¬¬ä¸‰æ¡è§„åˆ™è¡¨ç¤ºï¼Œå½“é€‰æ‹©åï¼Œå°åœ†ç‚¹çš„é¢œè‰²å˜æˆçº¢è‰²ã€‚</p>
</li>
</ul>
<h3>ç¬¬ä¸‰æ­¥ï¼šè®¾è®¡API</h3>
<p>é¡µé¢çš„ä¸»ä½“ç»“æ„å’Œæ ·å¼å®Œæˆä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç»„ä»¶çš„åŠŸèƒ½ï¼Œä¸ºè¯¥ç»„ä»¶è®¾è®¡APIã€‚</p>
<p>æˆ‘ä»¬å›é¡¾ä¸€ä¸‹è¿™ä¸ªç»„ä»¶çš„éœ€æ±‚ï¼š</p>
<ul>
<li>å››å¼ å›¾ç‰‡å¾ªç¯æ’­æ”¾ï¼Œæ¯å¼ å›¾ç‰‡åœç•™è‹¥å¹²æ—¶é—´ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»å·¦å³ä¸¤è¾¹çš„å°ç®­å¤´æ—¶ï¼Œå›¾ç‰‡åˆ†åˆ«åˆ‡æ¢åˆ°ä¸Šä¸€å¼ /ä¸‹ä¸€å¼ ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»ä¸­ä¸‹éƒ¨çš„å°åœ†ç‚¹çš„æ—¶å€™ï¼Œåˆ™ç«‹å³è·³åˆ°å°åœ†ç‚¹é¡ºåºæ‰€å¯¹åº”çš„é‚£å¼ å›¾ç‰‡ã€‚</li>
</ul>
<p>æ ¹æ®ä¸Šè¿°çš„éœ€æ±‚å‘¢ï¼Œæˆ‘ä»¬è®¾è®¡äº†4ä¸ªç»„ä»¶API:</p>
<ul>
<li>slideTo(idx) - åˆ‡æ¢æ˜¾ç¤ºidxæŒ‡ç¤ºä½ç½®çš„å›¾ç‰‡</li>
<li>slideNext() - åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ å›¾</li>
<li>slidePrevious() - åˆ‡æ¢åˆ°ä¸Šä¸€å¼ å›¾</li>
<li>getSelectedItem() - è·å–é€‰ä¸­çš„å›¾ç‰‡</li>
<li>getSelectedItemIndex() - è·å–é€‰ä¸­çš„å›¾ç‰‡çš„ä½ç½®</li>
</ul>
<p><img src="img\9e776e83-ae6f-11ed-ac19-342eb7027b95.jpg" alt=""></p>
<p>ç„¶åï¼Œå°†è¿™ä¸ªç»„ä»¶å°è£…ä¸ºä¸€ä¸ªç±»â€”â€”sliderï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container}</span>)</span> {
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
  }

  <span class="hljs-comment">/*
    é€šè¿‡é€‰æ‹©å™¨`.slider__item--selected`è·å¾—è¢«é€‰ä¸­çš„å…ƒç´ 
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItem</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__item--selected'</span>);
    <span class="hljs-keyword">return</span> selected;
  }

  <span class="hljs-comment">/*
    è¿”å›é€‰ä¸­çš„å…ƒç´ åœ¨itemsæ•°ç»„ä¸­çš„ä½ç½®ã€‚
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItemIndex</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.items.indexOf(<span class="hljs-built_in">this</span>.getSelectedItem());
  }

  <span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> { <span class="hljs-comment">// å°†ä¹‹å‰é€‰æ‹©çš„å›¾ç‰‡æ ‡è®°ä¸ºæ™®é€šçŠ¶æ€</span>
      selected.className = <span class="hljs-string">'slider__item'</span>;
    }
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> { <span class="hljs-comment">// å°†å½“å‰é€‰ä¸­çš„å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€</span>
      item.className = <span class="hljs-string">'slider__item--selected'</span>;
    }
  }

  <span class="hljs-comment">/*
    å°†ä¸‹ä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slideNext</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> nextIdx = (currentIdx + <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(nextIdx);
  }

  <span class="hljs-comment">/*
    å°†ä¸Šä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slidePrevious</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> previousIdx = (<span class="hljs-built_in">this</span>.items.length + currentIdx - <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(previousIdx);
  }
}
</code></pre>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼šSliderçš„æ„é€ å™¨ä¸­çš„å‚æ•°<code>{container}</code>è¡¨ç¤ºæ”¾ç½®è¿™4å¼ å›¾ç‰‡çš„çˆ¶å®¹å™¨ã€‚åœ¨æ„é€ å™¨ä¸­ï¼Œæˆ‘ä»¬è·å–äº†è¿™ä¸ªçˆ¶å®¹å™¨ä¸‹æ‰€æœ‰çš„<code>&#x3C;li></code>å…ƒç´ ã€‚</p>
<p>ç„¶åï¼Œé€šè¿‡<code>setInterval</code>æ–¹æ³•å®ç°å¾ªç¯æ’­æ”¾ï¼Œé—´éš”ä¸º3ç§’ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container});
<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> {
  slider.slideNext();
}, <span class="hljs-number">3000</span>);
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„è½®æ’­å›¾å°±ä»¥æ¯3ç§’çš„åˆ‡æ¢ä¸€æ¬¡é¢‘ç‡åŠ¨èµ·æ¥äº†ã€‚</p>
<p><img src="img\9e883cfc-ae6f-11ed-9259-342eb7027b95.jpg" alt=""></p>
<h3>ç¬¬å››æ­¥ï¼šå®ç°ç”¨æˆ·æ§åˆ¶</h3>
<p>å®ç°äº†ç»„ä»¶çš„APIåï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®ç°ç”¨æˆ·æ§åˆ¶åŠŸèƒ½ï¼š</p>
<ul>
<li>å½“ç”¨æˆ·ç‚¹å‡»å·¦å³ä¸¤è¾¹çš„å°ç®­å¤´æ—¶ï¼Œå›¾ç‰‡åˆ†åˆ«åˆ‡æ¢åˆ°ä¸Šä¸€å¼ /ä¸‹ä¸€å¼ ï¼Œå¹¶ç‚¹äº®ä¸è¯¥å›¾ç‰‡ç›¸å¯¹åº”çš„å°åœ†ç‚¹ï¼›</li>
<li>å½“ç”¨æˆ·é¼ æ ‡ç§»è¿›åˆ°åº•éƒ¨å°åœ†ç‚¹æ—¶ï¼Œåˆ™ç«‹å³è·³åˆ°å°åœ†ç‚¹é¡ºåºæ‰€å¯¹åº”çš„é‚£å¼ å›¾ç‰‡ï¼Œåœæ­¢è½®æ’­ï¼›</li>
<li>å½“ç”¨æˆ·é¼ æ ‡ç§»å‡ºåº•éƒ¨å°åœ†ç‚¹åï¼Œå›¾ç‰‡å†æ¬¡æ¢å¤è½®æ’­ã€‚</li>
</ul>
<p>æˆ‘ä»¬å°†æ„é€ å™¨ä¿®æ”¹ä¸ºä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
  <span class="hljs-built_in">this</span>.container = container;
  <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
  <span class="hljs-built_in">this</span>.cycle = cycle;

  <span class="hljs-keyword">const</span> controller = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__control'</span>);
  <span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);

  controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
    <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
      <span class="hljs-built_in">this</span>.slideTo(idx);
      <span class="hljs-built_in">this</span>.stop();
    }
  });

  controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
    <span class="hljs-built_in">this</span>.start();
  });

  <span class="hljs-comment">/*
    æ³¨å†Œslideäº‹ä»¶ï¼Œå°†é€‰ä¸­çš„å›¾ç‰‡å’Œå°åœ†ç‚¹è®¾ç½®ä¸ºselectedçŠ¶æ€
  */</span>
  <span class="hljs-built_in">this</span>.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
    <span class="hljs-keyword">const</span> idx = evt.detail.index;
    <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
    <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
    buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
  });

  <span class="hljs-keyword">const</span> previous = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
  previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>.slidePrevious();
    <span class="hljs-built_in">this</span>.start();
    evt.preventDefault();
  });

  <span class="hljs-keyword">const</span> next = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
  next.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>.slideNext();
    <span class="hljs-built_in">this</span>.start();
    evt.preventDefault();
  });
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œå‚æ•°<code>cycle</code>è¡¨ç¤ºå¾ªç¯æ’­æ”¾çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤ä¸º3ç§’ã€‚ç„¶åæ˜¯æ¯ä¸ªæ§åˆ¶å…ƒç´ ç›¸åº”çš„äº‹ä»¶å¤„ç†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥ä¾æ¬¡åˆ†æä¸€ä¸‹å®ƒä»¬ã€‚</p>
<p>ç¬¬ä¸€ä¸ªç”¨æˆ·äº‹ä»¶ï¼šå½“é¼ æ ‡ç§»å…¥æˆ–ç§»å‡ºå°åœ†ç‚¹äº‹ä»¶</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> controller = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__control'</span>);

<span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);

controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span>{
  <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span>{
    <span class="hljs-built_in">this</span>.slideTo(idx);
    <span class="hljs-built_in">this</span>.stop(); <span class="hljs-comment">// åœæ­¢è‡ªåŠ¨å¾ªç¯æ’­æ”¾</span>
  }
});

controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
  <span class="hljs-built_in">this</span>.start(); <span class="hljs-comment">// å¼€å§‹è‡ªåŠ¨å¾ªç¯æ’­æ”¾</span>
});
</code></pre>
<p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼šå½“é¼ æ ‡ç§»åŠ¨åˆ°å°åœ†ç‚¹ä¸Šæ–¹çš„æ—¶å€™ï¼ˆmouseoverï¼‰ï¼Œåˆ¤æ–­å½“å‰é€‰ä¸­çš„æ˜¯ç¬¬å‡ ä¸ªå°åœ†ç‚¹ï¼Œåœæ­¢è‡ªåŠ¨å¾ªç¯æ’­æ”¾åŠŸèƒ½ï¼Œç„¶ååˆ‡æ¢åˆ°å¯¹åº”çš„å›¾ç‰‡ã€‚å½“é¼ æ ‡ç§»å‡ºcontrollerå…ƒç´ åï¼ˆmouseoutï¼‰ï¼Œé‡å¯è‡ªåŠ¨å¾ªç¯æ’­æ”¾åŠŸèƒ½ã€‚</p>
<p>è¿™é‡Œå‘¢ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹<code>stop()</code>å’Œ<code>start()</code>çš„å®ç°ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-title">start</span>(<span class="hljs-params"></span>)</span> {
  <span class="hljs-built_in">this</span>.stop();
  <span class="hljs-built_in">this</span>._timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> <span class="hljs-built_in">this</span>.slideNext(), <span class="hljs-built_in">this</span>.cycle);
}

<span class="hljs-function"><span class="hljs-title">stop</span>(<span class="hljs-params"></span>)</span> {
  <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>._timer);
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼š<code>start()</code>æ–¹æ³•å¯åŠ¨äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯éš”<code>cycle</code>ç§’æ‰§è¡Œä¸€æ¬¡<code>slideNext()</code>ã€‚<code>stop()</code>åˆ™æ˜¯åœæ­¢è¿™ä¸ªå®šæ—¶å™¨ã€‚</p>
<p>ç¬¬äºŒä¸ªç”¨æˆ·äº‹ä»¶ï¼šç‚¹å‡»ä¸Šä¸€å¼ æˆ–ä¸‹ä¸€å¼ äº‹ä»¶</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> previous = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
  <span class="hljs-built_in">this</span>.stop();
  <span class="hljs-built_in">this</span>.slidePrevious();
  <span class="hljs-built_in">this</span>.start();
  evt.preventDefault();
});

<span class="hljs-keyword">const</span> next = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
next.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
  <span class="hljs-built_in">this</span>.stop();
  <span class="hljs-built_in">this</span>.slideNext();
  <span class="hljs-built_in">this</span>.start();
  evt.preventDefault();
});
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šå½“ç”¨æˆ·ç‚¹å‡»ä¸Šä¸€å¼ æ—¶ï¼Œç¨‹åºåœæ­¢å®šæ—¶å™¨ï¼Œç„¶åæ‰§è¡Œ<code>slidePrevious()</code>æ–¹æ³•ï¼Œè®©å›¾ç‰‡å‘å‰ç¿»ä¸€å¼ ï¼Œç„¶åé‡å¯å®šæ—¶å™¨ã€‚ç±»ä¼¼çš„ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ä¸‹ä¸€å¼ æ—¶ï¼Œå…ˆåœæ­¢å®šæ—¶å™¨ï¼Œç„¶åå‘åç¿»ä¸€å¼ ï¼Œå†é‡å¯å®šæ—¶å™¨ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªæ˜¯å¤„ç†ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ â€”â€” slideäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-built_in">this</span>.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
  <span class="hljs-keyword">const</span> idx = evt.detail.index
  <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
  <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
  buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
});
</code></pre>
<p>å¯¹åº”åœ°ï¼Œä¿®æ”¹<code>slideTo</code>æ–¹æ³•ï¼ŒåŠ å…¥è‡ªå®šä¹‰äº‹ä»¶è§¦å‘ã€‚</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
  <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> {
    selected.className = <span class="hljs-string">'slider__item'</span>;
  }
  <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> {
    item.className = <span class="hljs-string">'slider__item--selected'</span>;
  }

  <span class="hljs-keyword">const</span> detail = {<span class="hljs-attr">index</span>: idx};
  <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> CustomEvent(<span class="hljs-string">'slide'</span>, {<span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, detail});
  <span class="hljs-built_in">this</span>.container.dispatchEvent(event);
}
</code></pre>
<p>è¿™ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼ˆCustomEventï¼‰ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©åº•éƒ¨å°åœ†ç‚¹æ§ä»¶ç›‘å¬<code>slideTo</code>æ–¹æ³•ã€‚å½“<code>slideTo</code>æ–¹æ³•æ‰§è¡Œåï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šåˆ†å‘ä¸€æ¬¡<code>slide</code>äº‹ä»¶ï¼Œç„¶ååœ¨è¿™ä¸ªäº‹ä»¶ä¸­ï¼Œæ›´æ–°åº•éƒ¨å°åœ†ç‚¹çš„çŠ¶æ€ï¼Œè®©å°åœ†ç‚¹çš„çŠ¶æ€å’Œå„è‡ªçš„å›¾ç‰‡çŠ¶æ€å¯¹åº”èµ·æ¥ã€‚</p>
<p>æœ€åå°†è°ƒç”¨è¿‡ç¨‹æ”¹æˆï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container});
slider.start();
</code></pre>
<p>åˆ°æ­¤ï¼Œè¿™ä¸ªç»„ä»¶çš„å…¨éƒ¨åŠŸèƒ½å°±å®Œæˆäº†ã€‚<a href="https://junyux.github.io/FE-Advance/day06/index1.html" target="_blank" rel="nofollow noopener noreferrer">åœ¨çº¿æ¼”ç¤º</a></p>
<p>é€šè¿‡è½®æ’­ç»„ä»¶ç¼–å†™è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸€ä¸‹ç»„ä»¶è®¾è®¡çš„ä¸€èˆ¬æ€§æ­¥éª¤ï¼š</p>
<ol>
<li>è®¾è®¡HTMLç»“æ„</li>
<li>è®¾è®¡ç»„ä»¶çš„API</li>
<li>è®¾è®¡ç”¨æˆ·æ§åˆ¶æµç¨‹</li>
</ol>
<p>ä»ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªè½®æ’­ç»„ä»¶å®ç°äº†<strong>å°è£…æ€§</strong>å’Œ<strong>æ­£ç¡®æ€§</strong>ï¼Œä½†æ˜¯ç¼ºå°‘äº†<strong>å¯æ‰©å±•æ€§</strong>ã€‚è¿™ä¸ªç»„ä»¶åªèƒ½æ»¡è¶³è‡ªèº«çš„ä½¿ç”¨ï¼Œå®ƒçš„å®ç°ä»£ç å¾ˆéš¾æ‰©å±•åˆ°å…¶ä»–çš„ç»„ä»¶ï¼Œå½“æœ‰åŠŸèƒ½å˜åŒ–æ—¶ï¼Œä¹Ÿéœ€è¦ä¿®æ”¹å…¶è‡ªèº«å†…éƒ¨çš„ä»£ç ã€‚</p>
<p>æ¯”å¦‚äº§å“ç»ç†å› ä¸ºæŸç§åŸå› ï¼Œå¸Œæœ›å°†å›¾ç‰‡ä¸‹æ–¹çš„å°åœ†ç‚¹æš‚æ—¶å»æ‰ï¼Œåªä¿ç•™å·¦å³ç®­å¤´ã€‚é‚£ä¹ˆåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå°±éœ€è¦è¿™ä¹ˆåšï¼š</p>
<ol>
<li>æ³¨é‡Šæ‰HTMLä¸­<code>.slider__control</code>ç›¸å…³çš„ä»£ç </li>
<li>ä¿®æ”¹Sliderç»„ä»¶ï¼Œæ³¨é‡Šæ‰ä¸å°åœ†ç‚¹æ§åˆ¶ç›¸å…³çš„ä»£ç </li>
</ol>
<p>åˆæˆ–è€…ï¼Œå°†æ¥éœ€è¦ä¸ºè¿™ä¸ªç»„ä»¶æ·»åŠ æ–°çš„ç”¨æˆ·æ§åˆ¶ï¼Œéƒ½éœ€è¦å¯¹è¿™ä¸ªç»„ä»¶è¿›è¡Œå†ä¿®æ”¹ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å¯ä»¥é¿å…è¿™æ ·çš„ä¿®æ”¹ï¼Œè®©ç»„ä»¶å…·å¤‡<strong>å¯æ‰©å±•æ€§</strong>å‘¢ï¼Ÿ</p>
<h2>ç¬¬äºŒä¸ªæ•…äº‹ï¼šç»„ä»¶çš„æ’ä»¶åŒ–</h2>
<p>ä¸Šä¸€ä¸ªæ•…äº‹ä¸­çš„è½®æ’­ç»„ä»¶å°è£…ï¼Œæˆ‘ä»¬å®ç°äº†<strong>å°è£…æ€§</strong>å’Œ<strong>æ­£ç¡®æ€§</strong>ã€‚ä½†è¿™ä»…èƒ½æ»¡è¶³é¡¹ç›®å½“å‰çš„åŸºæœ¬è¦æ±‚ï¼Œæ˜¯å¯¹åˆçº§å·¥ç¨‹å¸ˆçš„åŸºæœ¬è¦æ±‚ï¼Œè€Œ<strong>å¯æ‰©å±•æ€§</strong>å’Œ<strong>å¯å¤ç”¨æ€§</strong>ï¼Œåˆ™å¯¹äºæ•´ä¸ªé¡¹ç›®çš„æœªæ¥æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œæ˜¯å¯¹é«˜çº§å·¥ç¨‹å¸ˆçš„è¦æ±‚ã€‚åœ¨å‰ç«¯UIç»„ä»¶ä¸­ï¼Œæå‡å¯æ‰©å±•æ€§çš„åŸºæœ¬æ€è·¯ï¼Œæ˜¯<strong>æ’ä»¶åŒ–</strong>ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¯¹äºè¿™ä¸ªå›¾ç‰‡è½®æ’­ç»„ä»¶æ¥è¯´ï¼Œå®ƒçš„æ’ä»¶åŒ–å¯ä»¥æ˜¯å°†ç”¨æˆ·æ§åˆ¶ç»„ä»¶ä»Sliderç»„ä»¶ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œåšæˆæ’ä»¶ï¼Œè¿™æ ·æ‰èƒ½æé«˜Sliderç»„ä»¶çš„å¯æ‰©å±•æ€§ã€‚</p>
<p>åœ¨å›¾ç‰‡è½®æ’­ç»„ä»¶ä¸­ï¼Œç”¨æˆ·çš„æ§åˆ¶ç»„ä»¶åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå›¾ç‰‡ä¸‹éƒ¨çš„å°åœ†ç‚¹ä»¥åŠå·¦å³ç¿»é¡µæŒ‰é’®ã€‚æˆ‘ä»¬åˆ†åˆ«ç”¨<code>controller</code>ã€<code>previous</code>ã€<code>next</code>ä¸‰ä¸ªå˜é‡æ¥åˆ†åˆ«å¤„ç†å®ƒä»¬ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥é‡æ„ä¸€ä¸‹ä¸Šä¸€ç‰ˆçš„ä»£ç ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
  <span class="hljs-built_in">this</span>.container = container;
  <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
  <span class="hljs-built_in">this</span>.cycle = cycle;
}

<span class="hljs-function"><span class="hljs-title">registerPlugins</span>(<span class="hljs-params">...plugins</span>)</span> {
  plugins.forEach(<span class="hljs-function"><span class="hljs-params">plugin</span> =></span> plugin(<span class="hljs-built_in">this</span>));
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šåœ¨Slidersç±»çš„æ„é€ å™¨ä¸­ï¼Œæˆ‘ä»¬å°†æ³¨å†Œæ§åˆ¶æµç¨‹çš„ä»£ç ç§»é™¤ï¼Œå¢åŠ äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•å«<code>registerPlugins</code>ã€‚è¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ç»„å‚æ•°<code>plugins</code>ï¼Œæ¯ä¸ª<code>plugin</code>æœ¬èº«æ˜¯ä¸€ä¸ªåˆå§‹åŒ–å‡½æ•°ï¼Œå¯ä»¥åšä»»ä½•äº‹æƒ…ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å°†ä¹‹å‰å†™åœ¨æ„é€ å™¨çš„æ§åˆ¶æµç¨‹ä»£ç ç§»åˆ°å¯¹åº”çš„æ’ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-comment">/* å°åœ†ç‚¹æ§ä»¶ */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginController</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> controller = slider.container.querySelector(<span class="hljs-string">'.slider__control'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">controller</span>)</span> {
    <span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
    controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
      <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
        slider.slideTo(idx);
        slider.stop();
      }
    });

    controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.start();
    });

    slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = evt.detail.index;
      <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
      <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
      buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
    });
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginPrevious</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span> {
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slidePrevious();
      slider.start();
      evt.preventDefault();
    });
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginNext</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> next = slider.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">next</span>)</span> {
    next.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slideNext();
      slider.start();
      evt.preventDefault();
    });
  }
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œ<code>pluginController</code>ã€<code>pluginPrevious</code>å’Œ<code>pluginNext</code>åˆ†åˆ«è¡¨ç¤ºå°åœ†ç‚¹æ§åˆ¶å’Œå·¦å³ç¿»é¡µæ§åˆ¶æ’ä»¶ã€‚æ¯ä¸ªæ’ä»¶æ¥å—ä¸€ä¸ªSliderçš„å®ä¾‹ã€‚ç„¶åï¼Œå°†å„è‡ªçš„ç”¨æˆ·äº‹ä»¶æ³¨å†Œåœ¨å¯¹åº”çš„æ’ä»¶ä¸Šã€‚</p>
<p>ğŸ’¡æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ <code>Slider.registerPlugins</code> å¯¹è±¡æ–¹æ³•é‡Œï¼Œç»™æ¯ä¸ª <code>plugin</code>ï¼ˆå³ï¼šæ’ä»¶ï¼‰ä¼ å…¥å½“å‰çš„ slider å¯¹è±¡å®ä¾‹ã€‚åœ¨æ’ä»¶çš„åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ª slider å¯¹è±¡ã€‚è¿™ç§å°†ä¾èµ–å¯¹è±¡ä¼ å…¥æ’ä»¶åˆå§‹åŒ–å‡½æ•°çš„æ–¹å¼ï¼Œå«åš<strong>ä¾èµ–æ³¨å…¥</strong>ã€‚</p>
<p><strong>ä¾èµ–æ³¨å…¥</strong>æ˜¯ä¸€ç§ç»„ä»¶/æ’ä»¶è§£è€¦åˆçš„åŸºæœ¬æ€è·¯ï¼Œåœ¨UIè®¾è®¡ä¸­ç»å¸¸è¢«ä½¿ç”¨ï¼Œåœ¨æˆ‘ä»¬åç»­çš„è¯¾ç¨‹ä¸­è¿˜ä¼šè§åˆ°ã€‚</p>
<p>æœ€åå†å°†æ’ä»¶æ³¨å†Œåˆ°sliderå¯¹è±¡ä¸Šï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container});
slider.registerPlugins(pluginController, pluginPrevious, pluginNext);
slider.start();
</code></pre>
<p>æ‰€ä»¥ï¼Œæœ€ç»ˆï¼Œè¿™ä¸€ç‰ˆçš„JSä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<p><a href="https://junyux.github.io/FE-Advance/day06/index2.html" target="_blank" rel="nofollow noopener noreferrer">åœ¨çº¿æ¼”ç¤º</a></p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
    <span class="hljs-built_in">this</span>.cycle = cycle;
  }

  <span class="hljs-function"><span class="hljs-title">registerPlugins</span>(<span class="hljs-params">...plugins</span>)</span> {
    plugins.forEach(<span class="hljs-function"><span class="hljs-params">plugin</span> =></span> plugin(<span class="hljs-built_in">this</span>));
  }

  <span class="hljs-comment">/*
    é€šè¿‡é€‰æ‹©å™¨`.slider__item--selected`è·å¾—è¢«é€‰ä¸­çš„å…ƒç´ 
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItem</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__item--selected'</span>);
    <span class="hljs-keyword">return</span> selected;
  }

  <span class="hljs-comment">/*
    è¿”å›é€‰ä¸­çš„å…ƒç´ åœ¨itemsæ•°ç»„ä¸­çš„ä½ç½®ã€‚
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItemIndex</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.items.indexOf(<span class="hljs-built_in">this</span>.getSelectedItem());
  }

  <span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> {
      selected.className = <span class="hljs-string">'slider__item'</span>;
    }
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> {
      item.className = <span class="hljs-string">'slider__item--selected'</span>;
    }

    <span class="hljs-keyword">const</span> detail = {<span class="hljs-attr">index</span>: idx};
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> CustomEvent(<span class="hljs-string">'slide'</span>, {<span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, detail});
    <span class="hljs-built_in">this</span>.container.dispatchEvent(event);
  }

  <span class="hljs-comment">/*
    å°†ä¸‹ä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slideNext</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> nextIdx = (currentIdx + <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(nextIdx);
  }

  <span class="hljs-comment">/*
    å°†ä¸Šä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slidePrevious</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> previousIdx = (<span class="hljs-built_in">this</span>.items.length + currentIdx - <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(previousIdx);
  }

  <span class="hljs-function"><span class="hljs-title">start</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>._timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> <span class="hljs-built_in">this</span>.slideNext(), <span class="hljs-built_in">this</span>.cycle);
  }

  <span class="hljs-function"><span class="hljs-title">stop</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>._timer);
  }
}

<span class="hljs-comment">/* å°åœ†ç‚¹æ§ä»¶ */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginController</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> controller = slider.container.querySelector(<span class="hljs-string">'.slider__control'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">controller</span>)</span> {
    <span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
    controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
      <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
        slider.slideTo(idx);
        slider.stop();
      }
    });

    controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.start();
    });

    slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = evt.detail.index;
      <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
      <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
      buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
    });
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginPrevious</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span> {
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slidePrevious();
      slider.start();
      evt.preventDefault();
    });
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pluginNext</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> next = slider.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">next</span>)</span> {
    next.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slideNext();
      slider.start();
      evt.preventDefault();
    });
  }
}

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container});
slider.registerPlugins(pluginController, pluginPrevious, pluginNext);
slider.start();
</code></pre>
<p>è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å°†ç»„ä»¶æ ¸å¿ƒå’Œæ’ä»¶éƒ¨åˆ†è¿›è¡Œäº†åˆ†ç¦»ï¼Œè¿™æ ·å°±å…è®¸æˆ‘ä»¬çš„ç»„ä»¶éšæ—¶å‡å°‘æˆ–è€…å¢åŠ ç”¨æˆ·æ§åˆ¶ã€‚æ¯”å¦‚ï¼Œä¸Šä¸€æ•…äº‹ä¸­ï¼Œå½“æˆ‘ä»¬çš„äº§å“ç»ç†è¦æ±‚å»æ‰å›¾ç‰‡ä¸‹æ–¹çš„å°åœ†ç‚¹æ§åˆ¶æ—¶ï¼Œæˆ‘ä»¬è‡ªéœ€è¦ç®€å•å°†å°åœ†ç‚¹ä»æ’ä»¶æ³¨å†Œä¸­å»æ‰ï¼Œå®Œå…¨ä¸éœ€è¦ä¿®æ”¹ç»„ä»¶ä»£ç ã€‚</p>
<pre><code class="hljs language-js">slider.registerPlugins(pluginPrevious, pluginNext);
</code></pre>
<p>å¦‚æœï¼Œæœ‰ä¸€å¤©ï¼Œäº§å“ç»ç†åˆéœ€è¦å¯¹è¿™ä¸ªç»„ä»¶æ·»åŠ æ–°çš„ç”¨æˆ·æ§åˆ¶ï¼Œæ¯”å¦‚ï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®å«â€œè¯•è¯•æ‰‹æ°”â€ï¼Œç‚¹å‡»è¯¥æŒ‰é’®ï¼Œè®©è½®æ’­å›¾éšæœºåˆ‡æ¢åˆ°ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œé‚£ä¹ˆä»¬æˆ‘ä»¬åªéœ€è¦è¿™æ ·åšï¼š</p>
<p>åœ¨HTMLä»£ç ä¸­å¢åŠ â€œè¯•è¯•æ‰‹æ°”â€œè¿™ä¸ªæŒ‰é’®ï¼š</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lucky"</span>></span>è¯•è¯•æ‰‹æ°”<span class="hljs-tag">&#x3C;/<span class="hljs-name">button</span>></span>
</code></pre>
<p>ç„¶ååˆ›å»ºè¿™ä¸ªæ’ä»¶ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-keyword">function</span>  <span class="hljs-title">pluginLucky</span>(<span class="hljs-params">slider</span>) </span>{
  <span class="hljs-keyword">const</span> luckyBtn = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.lucky'</span>);
  <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">luckyBtn</span>)</span> {
    luckyBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
      slider.stop();
      slider.slideTo(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * slider.items.length));
      slider.start();
      evt.preventDefault();
    });
  }
}
</code></pre>
<p>æœ€åå°†å®ƒæ³¨å†Œåˆ°sliderä¸­å»å³å¯ï¼š</p>
<pre><code class="hljs language-js">slider.registerPlugins(pluginController, pluginPrevious, pluginNext, pluginLucky);
</code></pre>
<p>ç”±æ­¤å¯è§ï¼Œæ’ä»¶åŒ–ä¹‹åï¼Œç»„ä»¶çš„å¯æ‰©å±•æ€§å¾—åˆ°äº†å¢å¼ºï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ä»»æ„æ‰©å±•æ’ä»¶ï¼Œè€Œä¸ç”¨ä¿®æ”¹Slideræœ¬èº«çš„æ ¸å¿ƒä»£ç äº†ã€‚</p>
<p>è¿™æ—¶ï¼Œä½ å¯èƒ½å‘ç°äº†å¦ä¸€ä¸ªé—®é¢˜ â€”â€” ç»„ä»¶çš„HTMLå’ŒJSæ˜¯åˆ†å¼€å†™çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¿®æ”¹ç»„ä»¶æœ¬èº«å’Œå¢åŠ æ’ä»¶çš„æ—¶å€™ï¼Œä¸å¯é¿å…åœ°éœ€è¦åŒæ—¶ä¿®æ”¹HTMLå’ŒJSä»£ç ã€‚</p>
<p>æ¯”å¦‚ï¼Œäº§å“ç»ç†å¸Œæœ›æˆ‘ä»¬å°†å›¾ç‰‡æ•°é‡ä»å››å¼ å¢åŠ ä¸ºå…­å¼ ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¿®æ”¹ç»„ä»¶å’Œæ’ä»¶çš„HTMLï¼ˆå³ï¼šå¢åŠ <code>&#x3C;li></code>å…ƒç´ å’Œå°åœ†ç‚¹æ§åˆ¶ï¼‰ã€‚ç”šè‡³ç°åœ¨è¿ä¿®æ”¹ä¸€å¼ å›¾ç‰‡çš„URLï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ‰‹å·¥ä¿®æ”¹HTMLå†…å®¹ã€‚è¿™ä¹Ÿä¸ç¬¦åˆå‰é¢è¯¾ç¨‹ä¸­å­¦è¿‡çš„æ•°æ®æŠ½è±¡åŸåˆ™ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å»æ‰ç»„ä»¶çš„HTMLä»£ç ï¼Œè®©JSæ¥æ¸²æŸ“ç»„ä»¶éœ€è¦çš„HTMLã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è®©JSæ¸²æŸ“ç»„ä»¶çš„HTMLå‘¢ï¼Ÿ</p>
<h2>ç¬¬ä¸‰ä¸ªæ•…äº‹ ç»„ä»¶çš„æ¨¡æ¿åŒ–</h2>
<p>ä¸ºäº†è®©JSæ¸²æŸ“ç»„ä»¶çš„HTMLï¼Œæˆ‘ä»¬éœ€è¦å°†ç»„ä»¶<strong>æ¨¡æ¿åŒ–</strong>ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿å®ç°æ¨¡æ¿åŒ–ï¼Œæˆ‘ä»¬éœ€è¦é‡æ„ç»„ä»¶çš„éƒ¨åˆ†API:</p>
<p><img src="img\9ed4822e-ae6f-11ed-894d-342eb7027b95.jpg" alt=""></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç»™Sliderç»„ä»¶æ·»åŠ äº†ä¸€ä¸ª<code>render()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨äºæ¸²æŸ“Sliderç»„ä»¶çš„HTMLéƒ¨åˆ†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†æ’ä»¶ç”±åŸå…ˆå•ä¸€çš„åˆå§‹åŒ–å‡½æ•°é‡æ„ä¸ºä¸€ä¸ªåŒ…å«<code>render()</code>æ–¹æ³•å’Œ<code>initialize()</code>æ–¹æ³•çš„å¯¹è±¡ã€‚å…¶ä¸­<code>render()</code>æ–¹æ³•æ˜¯ç”¨æ¥æ¸²æŸ“æ’ä»¶çš„HTMLéƒ¨åˆ†ï¼Œè€Œ<code>initialize()</code>æ–¹æ³•åˆ™æ˜¯ç”¨äºæ³¨å†Œå’Œæ’ä»¶å¯¹åº”çš„ç”¨æˆ·äº‹ä»¶ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥æ¸²æŸ“Sliderç»„ä»¶çš„HTMLï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, images = [], cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.data = images;
    <span class="hljs-built_in">this</span>.container.innerHTML = <span class="hljs-built_in">this</span>.render(<span class="hljs-built_in">this</span>.data);
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">this</span>.container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
    <span class="hljs-built_in">this</span>.cycle = cycle;
    <span class="hljs-built_in">this</span>.slideTo(<span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">const</span> content = images.map(<span class="hljs-function"><span class="hljs-params">image</span> =></span> <span class="hljs-string">`
      &#x3C;li class="slider__item">
        &#x3C;img src="<span class="hljs-subst">${image}</span>"/>
      &#x3C;/li>    
    `</span>.trim());

    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;ul><span class="hljs-subst">${content.join(<span class="hljs-string">''</span>)}</span>&#x3C;/ul>`</span>;
  }
  
  <span class="hljs-comment">/*æ­¤å¤„çœç•¥ç»„ä»¶å…¶ä»–çš„API*/</span>
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šæˆ‘ä»¬å°†æ•°æ®æºï¼ˆè¿™é‡Œå°±æ˜¯å›¾ç‰‡æ•°ç»„ï¼‰ä¼ é€’ç»™Sliderç»„ä»¶ã€‚ç„¶åSliderçš„æ„é€ å™¨åˆ©ç”¨è¿™ä¸ªæ•°æ®æºæ¸²æŸ“è‡ªå·±çš„HTML â€”â€” <code>this.container.innerHTML = this.render(this.data);</code>ï¼Œå†å°†è¿™éƒ¨åˆ†HTMLæ·»åŠ åˆ°containerå…ƒç´ ä¸­å»ã€‚</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> images = [<span class="hljs-string">'https://p5.ssl.qhimg.com/t0119c74624763dd070.png'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01adbe3351db853eb3.jpg'</span>,
  <span class="hljs-string">'https://p2.ssl.qhimg.com/t01645cd5ba0c3b60cb.jpg'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01331ac159b58f5478.jpg'</span>];

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container, images});
</code></pre>
<p>ä¸Šé¢è¿™æ®µè°ƒç”¨ä»£ç æ¸²æŸ“çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-HTML"><span class="hljs-tag">&#x3C;<span class="hljs-name">ul</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p5.ssl.qhimg.com/t0119c74624763dd070.png"</span>/></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p4.ssl.qhimg.com/t01adbe3351db853eb3.jpg"</span>/></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p2.ssl.qhimg.com/t01645cd5ba0c3b60cb.jpg"</span>/></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider__item"</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://p4.ssl.qhimg.com/t01331ac159b58f5478.jpg"</span>/></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">li</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">ul</span>></span>
</code></pre>
<p>è¿™æ ·ï¼Œç»„ä»¶çš„HTMLä»£ç éƒ¨åˆ†å°±ç®€åŒ–ä¸ºä¸‹é¢çš„å½¢å¼ï¼š</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"slider"</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>

<p>ç„¶åï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªæ’ä»¶æ·»åŠ æ¸²æŸ“ä»£ç ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> pluginController = { <span class="hljs-comment">// å°åœ†ç‚¹æ’ä»¶</span>
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span>{ <span class="hljs-comment">//éšç€å›¾ç‰‡æ•°é‡çš„å¢åŠ ï¼Œå°åœ†ç‚¹å…ƒç´ ä¹Ÿéœ€è¦å¢åŠ </span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &#x3C;div class="slider__control">
        <span class="hljs-subst">${images.map((image, i) => <span class="hljs-string">`
            &#x3C;span class="slider__control-buttons<span class="hljs-subst">${i===<span class="hljs-number">0</span>?<span class="hljs-string">'--selected'</span>:<span class="hljs-string">''</span>}</span>">&#x3C;/span>
        `</span>).join(<span class="hljs-string">''</span>)}</span>
      &#x3C;/div>    
    `</span>.trim();
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span>{
    <span class="hljs-keyword">const</span> controller = slider.container.querySelector(<span class="hljs-string">'.slider__control'</span>);
    
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">controller</span>)</span>{
      <span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
      controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span>{
          slider.slideTo(idx);
          slider.stop();
        }
      });

      controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
        slider.start();
      });

      slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
        <span class="hljs-keyword">const</span> idx = evt.detail.index
        <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
        <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
        buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
      });
    }    
  }
};

<span class="hljs-keyword">const</span> pluginPrevious = {
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;a class="slider__previous">&#x3C;/a>`</span>;
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span>{
    <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span>{
      previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
        slider.stop();
        slider.slidePrevious();
        slider.start();
        evt.preventDefault();
      });
    }  
  }
};

<span class="hljs-keyword">const</span> pluginNext = {
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;a class="slider__next">&#x3C;/a>`</span>;
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span>{
    <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span>{
      previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-params">evt</span> =></span> {
        slider.stop();
        slider.slideNext();
        slider.start();
        evt.preventDefault();
      });
    }  
  }
};
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šæ¯ä¸ªæ’ä»¶éƒ½è¢«æ„é€ æˆä¸€ä¸ªå¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡ä¸­éƒ½æœ‰ä¸€ä¸ª<code>render</code>æ–¹æ³•ï¼Œè´Ÿè´£æ¸²æŸ“å„è‡ªçš„HTMLã€‚<code>initialize</code>æ–¹æ³•åˆ™æ˜¯è´Ÿè´£æ³¨å†Œå„è‡ªçš„ç”¨æˆ·äº‹ä»¶ã€‚</p>
<p>ä¸ºäº†å°†æ¯ä¸ªæ’ä»¶æ·»åŠ åˆ°Sliderç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹Sliderçš„<code>Slider.registerPlugins()</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-function"><span class="hljs-title">registerPlugins</span>(<span class="hljs-params">...plugins</span>)</span> {
  plugins.forEach(<span class="hljs-function">(<span class="hljs-params">plugin</span>) =></span> {
    <span class="hljs-keyword">const</span> pluginContainer = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
    pluginContainer.className = <span class="hljs-string">'slider__plugin'</span>;
    pluginContainer.innerHTML = plugin.render(<span class="hljs-built_in">this</span>.data);
    <span class="hljs-built_in">this</span>.container.appendChild(pluginContainer);
    plugin.initialize(<span class="hljs-built_in">this</span>);
  });
}
</code></pre>
<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šSliderç»„ä»¶ä¸ºæ¯ä¸ªpluginåˆ›å»ºäº†ä¸€ä¸ª<code>class=slider__plugin</code>çš„å®¹å™¨ï¼Œç„¶åå°†æ’ä»¶çš„HTMLå…ƒç´ æ·»åŠ åˆ°è¿™ä¸ªå®¹å™¨ä¸­ï¼Œå†æŠŠè¿™ä¸ªå®¹å™¨æ·»åŠ åˆ°Sliderç»„ä»¶ä¸­å»ï¼Œæœ€åå†è°ƒç”¨æ’ä»¶çš„<code>initialize</code>æ–¹æ³•ï¼Œä»¥ä¾¿ä¸ºæ¯ä¸ªæ’ä»¶æ·»åŠ å„è‡ªçš„ç”¨æˆ·æ§åˆ¶ã€‚</p>
<p>è¿™æ¬¡é‡æ„çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<p><a href="https://junyux.github.io/FE-Advance/day06/index3.html" target="_blank" rel="nofollow noopener noreferrer">åœ¨çº¿æ¼”ç¤º</a></p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, images = [], cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.data = images;
    <span class="hljs-built_in">this</span>.container.innerHTML = <span class="hljs-built_in">this</span>.render(<span class="hljs-built_in">this</span>.data);
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">this</span>.container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
    <span class="hljs-built_in">this</span>.cycle = cycle;
    <span class="hljs-built_in">this</span>.slideTo(<span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">const</span> content = images.map(<span class="hljs-function"><span class="hljs-params">image</span> =></span> <span class="hljs-string">`
      &#x3C;li class="slider__item">
        &#x3C;img src="<span class="hljs-subst">${image}</span>"/>
      &#x3C;/li>    
    `</span>.trim());

    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;ul><span class="hljs-subst">${content.join(<span class="hljs-string">''</span>)}</span>&#x3C;/ul>`</span>;
  }

  <span class="hljs-function"><span class="hljs-title">registerPlugins</span>(<span class="hljs-params">...plugins</span>)</span> {
    plugins.forEach(<span class="hljs-function">(<span class="hljs-params">plugin</span>) =></span> {
      <span class="hljs-keyword">const</span> pluginContainer = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
      pluginContainer.className = <span class="hljs-string">'slider__plugin'</span>;
      pluginContainer.innerHTML = plugin.render(<span class="hljs-built_in">this</span>.data);
      <span class="hljs-built_in">this</span>.container.appendChild(pluginContainer);
      plugin.initialize(<span class="hljs-built_in">this</span>);
    });
  }

  <span class="hljs-comment">/*
    é€šè¿‡é€‰æ‹©å™¨`.slider__item--selected`è·å¾—è¢«é€‰ä¸­çš„å…ƒç´ 
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItem</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__item--selected'</span>);
    <span class="hljs-keyword">return</span> selected;
  }

  <span class="hljs-comment">/*
    è¿”å›é€‰ä¸­çš„å…ƒç´ åœ¨itemsæ•°ç»„ä¸­çš„ä½ç½®ã€‚
  */</span>
  <span class="hljs-function"><span class="hljs-title">getSelectedItemIndex</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.items.indexOf(<span class="hljs-built_in">this</span>.getSelectedItem());
  }

  <span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> {
      selected.className = <span class="hljs-string">'slider__item'</span>;
    }
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> {
      item.className = <span class="hljs-string">'slider__item--selected'</span>;
    }

    <span class="hljs-keyword">const</span> detail = {<span class="hljs-attr">index</span>: idx};
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> CustomEvent(<span class="hljs-string">'slide'</span>, {<span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, detail});
    <span class="hljs-built_in">this</span>.container.dispatchEvent(event);
  }

  <span class="hljs-comment">/*
    å°†ä¸‹ä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slideNext</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> nextIdx = (currentIdx + <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(nextIdx);
  }

  <span class="hljs-comment">/*
    å°†ä¸Šä¸€å¼ å›¾ç‰‡æ ‡è®°ä¸ºé€‰ä¸­çŠ¶æ€
  */</span>
  <span class="hljs-function"><span class="hljs-title">slidePrevious</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> previousIdx = (<span class="hljs-built_in">this</span>.items.length + currentIdx - <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(previousIdx);
  }

  <span class="hljs-function"><span class="hljs-title">start</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>._timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> <span class="hljs-built_in">this</span>.slideNext(), <span class="hljs-built_in">this</span>.cycle);
  }

  <span class="hljs-function"><span class="hljs-title">stop</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>._timer);
  }
}

<span class="hljs-keyword">const</span> pluginController = { <span class="hljs-comment">// å°åœ†ç‚¹æ’ä»¶</span>
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> { <span class="hljs-comment">// éšç€å›¾ç‰‡æ•°é‡çš„å¢åŠ ï¼Œå°åœ†ç‚¹å…ƒç´ ä¹Ÿéœ€è¦å¢åŠ </span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &#x3C;div class="slider__control">
        <span class="hljs-subst">${images.map((image, i) => <span class="hljs-string">`
            &#x3C;span class="slider__control-buttons<span class="hljs-subst">${i === <span class="hljs-number">0</span> ? <span class="hljs-string">'--selected'</span> : <span class="hljs-string">''</span>}</span>">&#x3C;/span>
        `</span>).join(<span class="hljs-string">''</span>)}</span>
      &#x3C;/div>    
    `</span>.trim();
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span> {
    <span class="hljs-keyword">const</span> controller = slider.container.querySelector(<span class="hljs-string">'.slider__control'</span>);

    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">controller</span>)</span> {
      <span class="hljs-keyword">const</span> buttons = controller.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
      controller.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
        <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
        <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
          slider.slideTo(idx);
          slider.stop();
        }
      });

      controller.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
        slider.start();
      });

      slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
        <span class="hljs-keyword">const</span> idx = evt.detail.index;
        <span class="hljs-keyword">const</span> selected = controller.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
        <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
        buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
      });
    }
  },
};

<span class="hljs-keyword">const</span> pluginPrevious = {
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__previous">&#x3C;/a>'</span>;
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span> {
    <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span> {
      previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
        slider.stop();
        slider.slidePrevious();
        slider.start();
        evt.preventDefault();
      });
    }
  },
};

<span class="hljs-keyword">const</span> pluginNext = {
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__next">&#x3C;/a>'</span>;
  },

  <span class="hljs-function"><span class="hljs-title">initialize</span>(<span class="hljs-params">slider</span>)</span> {
    <span class="hljs-keyword">const</span> previous = slider.container.querySelector(<span class="hljs-string">'.slider__next'</span>);
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">previous</span>)</span> {
      previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
        slider.stop();
        slider.slideNext();
        slider.start();
        evt.preventDefault();
      });
    }
  },
};

<span class="hljs-keyword">const</span> images = [<span class="hljs-string">'https://p5.ssl.qhimg.com/t0119c74624763dd070.png'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01adbe3351db853eb3.jpg'</span>,
  <span class="hljs-string">'https://p2.ssl.qhimg.com/t01645cd5ba0c3b60cb.jpg'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01331ac159b58f5478.jpg'</span>];

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container, images});
slider.registerPlugins(pluginController, pluginPrevious, pluginNext);
slider.start();
</code></pre>
<p>æ¨¡æ¿åŒ–ä¹‹åï¼Œä»£ç çš„å¯æ‰©å±•æ€§å¾—åˆ°äº†è¿›ä¸€æ­¥çš„æå‡ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å¢åŠ æˆ–è€…å‡å°‘è½®æ’­å›¾ç‰‡æ•°é‡ï¼Œåªéœ€è¦ä¿®æ”¹æ•°æ®ä¸­imagesæ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æˆ–è€…ä¸éœ€è¦æŸä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¼ ç»™<code>registerPlugins()</code>æ–¹æ³•çš„å‚æ•°å³å¯ã€‚å¯ä»¥è¯´ï¼Œè¿™ä¸€ç‰ˆä»£ç çš„å¯æ‰©å±•æ€§æ˜¯è¾¾åˆ°äº†å‘å¸ƒè¦æ±‚çš„è¾ƒé«˜æ ‡å‡†çš„ã€‚</p>
<p>è¿™ä¸ªç‰ˆæœ¬çš„ç»„ä»¶è™½ç„¶å…·æœ‰è¾ƒé«˜çš„å¯æ‰©å±•æ€§ï¼Œä½†æ˜¯å®ƒç¼ºå°‘<strong>å¯å¤ç”¨æ€§</strong>ã€‚è¿™é‡Œçš„å¯å¤ç”¨æ€§æ˜¯æŒ‡ï¼Œè¿™å¥—ç»„ä»¶ï¼ˆåŒ…æ‹¬Sliderçš„æ’ä»¶ï¼‰æ²¡æœ‰ç»Ÿä¸€çš„è§„èŒƒã€‚å¦‚æœæˆ‘ä»¬çš„åŒäº‹åŒæ ·éœ€è¦è®¾ç½®ä¸€å¥—ç»„ä»¶ï¼Œå…¶ä¸­ä¹Ÿæœ‰å°åœ†ç‚¹ç»„ä»¶ï¼Œä½†æ˜¯ä»–ä½¿ç”¨çš„æ¸²æŸ“æ–¹æ³•æ˜¯<code>draw()</code>è€Œä¸æ˜¯<code>render()</code>ï¼Œç»„ä»¶äº‹ä»¶çš„æ³¨å†Œä½¿ç”¨çš„ä¹Ÿä¸æ˜¯<code>initialized()</code>æ–¹æ³•ï¼Œ é‚£ä¹ˆè¿™ä¸ªåŒäº‹å°±éœ€è¦å†é‡å¤å¼€å‘ä¸€ä¸ªå°åœ†ç‚¹ç»„ä»¶ã€‚è¿™æ ·ä»£ç çš„å¯å¤ç”¨æ€§å°±æ¯”è¾ƒå·®äº†ã€‚æ‰€ä»¥ï¼Œä¸ºäº†æé«˜ä»£ç å¯å¤ç”¨æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç»„ä»¶è®¾è®¡ä¸€å¥—è§„èŒƒã€‚å¤§å®¶åŒæ—¶éµå¾ªè¿™å¥—è§„èŒƒï¼Œå°±èƒ½è®©ä¸åŒå¼€å‘è€…è®¾è®¡çš„ç»„ä»¶è¢«ä»–äººå¤ç”¨ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å®ç°ç»„ä»¶çš„ç»Ÿä¸€è§„èŒƒå‘¢ï¼Ÿ</p>
<h2>ç¬¬å››ä¸ªæ•…äº‹ï¼šè®¾è®¡ç»„ä»¶æ¡†æ¶</h2>
<p>ä¸ºäº†æé«˜ç»„ä»¶çš„å¤ç”¨æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç»„ä»¶è®¾è®¡ä¸€ä¸ª<strong>ç»Ÿä¸€çš„è§„èŒƒ</strong>ã€‚å®ç°è¿™ä¸ªç»Ÿä¸€çš„è§„èŒƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾è®¡ä¸€å¥—é€šç”¨çš„<strong>ç»„ä»¶æœºåˆ¶</strong>ï¼Œå¹¶ä»¥è¿™å¥—æœºåˆ¶ä¸ºåŸåˆ™æ„å»ºä¸€ä¸ªåº“ã€‚è¿™ä¸ª<strong>é€šç”¨æœºåˆ¶</strong>å®é™…ä¸Šæä¾›äº†ä»£ç è®¾è®¡å’ŒæŠ½è±¡çš„ä¸€å¥—é€šç”¨è§„èŒƒï¼Œè€Œéµå¾ªè¿™å¥—è§„èŒƒçš„åŸºç¡€åº“ï¼Œå®é™…ä¸Šå°±æ˜¯å®Œæ•´çš„<strong>UIç»„ä»¶æ¡†æ¶</strong>ã€‚</p>
<p>è®¾è®¡UIç»„ä»¶æ¡†æ¶æ˜¯ä¸€ä»¶æ¯”è¾ƒå¤æ‚çš„äº‹æƒ…ï¼Œå› ä¸ºè¦è€ƒè™‘è®¸å¤šç»†èŠ‚ã€‚ä½†åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç®€è¦åœ°è®¾è®¡ä¸€ä¸ªåŸºç¡€ç®€åŒ–ç‰ˆã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­ä¿®æ”¹ä¸Šä¸€ç‰ˆçš„è®¾è®¡ï¼Œæç‚¼å‡ºé€šç”¨çš„Componentç±»ï¼š</p>
<p><img src="img\9ef07ae1-ae6f-11ed-9eca-342eb7027b95.jpg" alt=""></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ªç»„ä»¶ Component åŒ…å«ä»¥ä¸‹ API:</p>
<ul>
<li>static name - é™æ€å±æ€§ï¼Œè¡¨ç¤ºè¿™ä¸ªç»„ä»¶çš„åç§°</li>
<li>contructor({container, data, parent}) - ç»„ä»¶æ„é€ å‡½æ•°</li>
<li>registerSubComponents(...Comps) - ç»™å½“å‰ç»„ä»¶æ³¨å†Œå­ç»„ä»¶</li>
<li>render(data) - æ¸²æŸ“HTMLæ¨¡æ¿</li>
</ul>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'component'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, data, parent = <span class="hljs-literal">null</span>} = {}</span>)</span> {
    <span class="hljs-built_in">this</span>.data = data;
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.container.innerHTML = <span class="hljs-built_in">this</span>.render(<span class="hljs-built_in">this</span>.data);
  }

  <span class="hljs-function"><span class="hljs-title">registerSubComponents</span>(<span class="hljs-params">...Comps</span>)</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">this</span>.data;
    <span class="hljs-keyword">const</span> container = <span class="hljs-built_in">this</span>.container;
    <span class="hljs-built_in">this</span>.children = <span class="hljs-built_in">this</span>.children || [];
    Comps.forEach(<span class="hljs-function">(<span class="hljs-params">Comp</span>) =></span> {
      <span class="hljs-keyword">const</span> subContainer = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
      <span class="hljs-keyword">const</span> sub = <span class="hljs-keyword">new</span> Comp({<span class="hljs-attr">container</span>: subContainer, data, <span class="hljs-attr">parent</span>: <span class="hljs-built_in">this</span>});
      container.appendChild(subContainer);
      <span class="hljs-built_in">this</span>.children.push(sub);
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">data</span>)</span> {
    <span class="hljs-comment">/* abstract */</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  }
}
</code></pre>
<p>ç„¶å Slider å’Œå…¶ä»–å‡ ä¸ªæ’ä»¶éƒ½ä½œä¸ºç»„ä»¶ç±»ç»§æ‰¿è‡ª Componentã€‚</p>
<p>Slider ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'slider'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, images = [], cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
    <span class="hljs-built_in">super</span>({container, <span class="hljs-attr">data</span>: images});
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">this</span>.container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
    <span class="hljs-built_in">this</span>.cycle = cycle;
    <span class="hljs-built_in">this</span>.slideTo(<span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">const</span> content = images.map(<span class="hljs-function"><span class="hljs-params">image</span> =></span> <span class="hljs-string">`
      &#x3C;li class="slider__item">
        &#x3C;img src="<span class="hljs-subst">${image}</span>"/>
      &#x3C;/li>    
    `</span>.trim());

    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;ul><span class="hljs-subst">${content.join(<span class="hljs-string">''</span>)}</span>&#x3C;/ul>`</span>;
  }

  <span class="hljs-function"><span class="hljs-title">getSelectedItem</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__item--selected'</span>);
    <span class="hljs-keyword">return</span> selected;
  }

  <span class="hljs-function"><span class="hljs-title">getSelectedItemIndex</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.items.indexOf(<span class="hljs-built_in">this</span>.getSelectedItem());
  }

  <span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> {
      selected.className = <span class="hljs-string">'slider__item'</span>;
    }
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> {
      item.className = <span class="hljs-string">'slider__item--selected'</span>;
    }

    <span class="hljs-keyword">const</span> detail = {<span class="hljs-attr">index</span>: idx};
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> CustomEvent(<span class="hljs-string">'slide'</span>, {<span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, detail});
    <span class="hljs-built_in">this</span>.container.dispatchEvent(event);
  }

  <span class="hljs-function"><span class="hljs-title">slideNext</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> nextIdx = (currentIdx + <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(nextIdx);
  }

  <span class="hljs-function"><span class="hljs-title">slidePrevious</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> previousIdx = (<span class="hljs-built_in">this</span>.items.length + currentIdx - <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(previousIdx);
  }

  <span class="hljs-function"><span class="hljs-title">start</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>._timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> <span class="hljs-built_in">this</span>.slideNext(), <span class="hljs-built_in">this</span>.cycle);
  }

  <span class="hljs-function"><span class="hljs-title">stop</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>._timer);
  }
}
</code></pre>
<p>SliderController ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'slider__control'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, data, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container, data});

    <span class="hljs-keyword">const</span> buttons = container.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
    container.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
      <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
        slider.slideTo(idx);
        slider.stop();
      }
    });

    container.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.start();
    });

    slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = evt.detail.index;
      <span class="hljs-keyword">const</span> selected = container.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
      <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
      buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &#x3C;div class="slider__control">
        <span class="hljs-subst">${images.map((image, i) => <span class="hljs-string">`
            &#x3C;span class="slider__control-buttons<span class="hljs-subst">${i === <span class="hljs-number">0</span> ? <span class="hljs-string">'--selected'</span> : <span class="hljs-string">''</span>}</span>">&#x3C;/span>
        `</span>).join(<span class="hljs-string">''</span>)}</span>
      &#x3C;/div>    
    `</span>.trim();
  }
}
</code></pre>
<p>SliderPrevious å’Œ SliderNext ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderPrevious</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container});
    <span class="hljs-keyword">const</span> previous = container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slidePrevious();
      slider.start();
      evt.preventDefault();
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__previous">&#x3C;/a>'</span>;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderNext</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container});
    <span class="hljs-keyword">const</span> previous = container.querySelector(<span class="hljs-string">'.slider__next'</span>);
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slidePrevious();
      slider.start();
      evt.preventDefault();
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__next">&#x3C;/a>'</span>;
  }
}
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä»¥ç»„ä»¶åŒ–çš„æ–¹å¼å®ç°äº†è¿™ä¸ªç‰ˆæœ¬çš„è½®æ’­å›¾ï¼Œå®Œæ•´çš„JSä»£ç å¦‚ä¸‹ï¼š</p>
<p><a href="https://junyux.github.io/FE-Advance/day06/index4.html" target="_blank" rel="nofollow noopener noreferrer">åœ¨çº¿æ¼”ç¤º</a></p>
<pre><code class="hljs language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'component'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, data, parent = <span class="hljs-literal">null</span>} = {}</span>)</span> {
    <span class="hljs-built_in">this</span>.data = data;
    <span class="hljs-built_in">this</span>.container = container;
    <span class="hljs-built_in">this</span>.container.innerHTML = <span class="hljs-built_in">this</span>.render(<span class="hljs-built_in">this</span>.data);
  }

  <span class="hljs-function"><span class="hljs-title">registerSubComponents</span>(<span class="hljs-params">...Comps</span>)</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">this</span>.data;
    <span class="hljs-keyword">const</span> container = <span class="hljs-built_in">this</span>.container;
    <span class="hljs-built_in">this</span>.children = <span class="hljs-built_in">this</span>.children || [];
    Comps.forEach(<span class="hljs-function">(<span class="hljs-params">Comp</span>) =></span> {
      <span class="hljs-keyword">const</span> subContainer = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
      <span class="hljs-keyword">const</span> sub = <span class="hljs-keyword">new</span> Comp({<span class="hljs-attr">container</span>: subContainer, data, <span class="hljs-attr">parent</span>: <span class="hljs-built_in">this</span>});
      container.appendChild(subContainer);
      <span class="hljs-built_in">this</span>.children.push(sub);
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">data</span>)</span> {
    <span class="hljs-comment">/* abstract */</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'slider'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, images = [], cycle = <span class="hljs-number">3000</span>} = {}</span>)</span> {
    <span class="hljs-built_in">super</span>({container, <span class="hljs-attr">data</span>: images});
    <span class="hljs-built_in">this</span>.items = <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">this</span>.container.querySelectorAll(<span class="hljs-string">'.slider__item, .slider__item--selected'</span>));
    <span class="hljs-built_in">this</span>.cycle = cycle;
    <span class="hljs-built_in">this</span>.slideTo(<span class="hljs-number">0</span>);
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">const</span> content = images.map(<span class="hljs-function"><span class="hljs-params">image</span> =></span> <span class="hljs-string">`
      &#x3C;li class="slider__item">
        &#x3C;img src="<span class="hljs-subst">${image}</span>"/>
      &#x3C;/li>    
    `</span>.trim());

    <span class="hljs-keyword">return</span> <span class="hljs-string">`&#x3C;ul><span class="hljs-subst">${content.join(<span class="hljs-string">''</span>)}</span>&#x3C;/ul>`</span>;
  }

  <span class="hljs-function"><span class="hljs-title">getSelectedItem</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.container.querySelector(<span class="hljs-string">'.slider__item--selected'</span>);
    <span class="hljs-keyword">return</span> selected;
  }

  <span class="hljs-function"><span class="hljs-title">getSelectedItemIndex</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.items.indexOf(<span class="hljs-built_in">this</span>.getSelectedItem());
  }

  <span class="hljs-function"><span class="hljs-title">slideTo</span>(<span class="hljs-params">idx</span>)</span> {
    <span class="hljs-keyword">const</span> selected = <span class="hljs-built_in">this</span>.getSelectedItem();
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">selected</span>)</span> {
      selected.className = <span class="hljs-string">'slider__item'</span>;
    }
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">this</span>.items[idx];
    <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">item</span>)</span> {
      item.className = <span class="hljs-string">'slider__item--selected'</span>;
    }

    <span class="hljs-keyword">const</span> detail = {<span class="hljs-attr">index</span>: idx};
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> CustomEvent(<span class="hljs-string">'slide'</span>, {<span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>, detail});
    <span class="hljs-built_in">this</span>.container.dispatchEvent(event);
  }

  <span class="hljs-function"><span class="hljs-title">slideNext</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> nextIdx = (currentIdx + <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(nextIdx);
  }

  <span class="hljs-function"><span class="hljs-title">slidePrevious</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">const</span> currentIdx = <span class="hljs-built_in">this</span>.getSelectedItemIndex();
    <span class="hljs-keyword">const</span> previousIdx = (<span class="hljs-built_in">this</span>.items.length + currentIdx - <span class="hljs-number">1</span>) % <span class="hljs-built_in">this</span>.items.length;
    <span class="hljs-built_in">this</span>.slideTo(previousIdx);
  }

  <span class="hljs-function"><span class="hljs-title">start</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">this</span>.stop();
    <span class="hljs-built_in">this</span>._timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =></span> <span class="hljs-built_in">this</span>.slideNext(), <span class="hljs-built_in">this</span>.cycle);
  }

  <span class="hljs-function"><span class="hljs-title">stop</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>._timer);
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">static</span> name = <span class="hljs-string">'slider__control'</span>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, data, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container, data});

    <span class="hljs-keyword">const</span> buttons = container.querySelectorAll(<span class="hljs-string">'.slider__control-buttons, .slider__control-buttons--selected'</span>);
    container.addEventListener(<span class="hljs-string">'mouseover'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = <span class="hljs-built_in">Array</span>.from(buttons).indexOf(evt.target);
      <span class="hljs-function"><span class="hljs-title">if</span>(<span class="hljs-params">idx >= <span class="hljs-number">0</span></span>)</span> {
        slider.slideTo(idx);
        slider.stop();
      }
    });

    container.addEventListener(<span class="hljs-string">'mouseout'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.start();
    });

    slider.container.addEventListener(<span class="hljs-string">'slide'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      <span class="hljs-keyword">const</span> idx = evt.detail.index;
      <span class="hljs-keyword">const</span> selected = container.querySelector(<span class="hljs-string">'.slider__control-buttons--selected'</span>);
      <span class="hljs-keyword">if</span>(selected) selected.className = <span class="hljs-string">'slider__control-buttons'</span>;
      buttons[idx].className = <span class="hljs-string">'slider__control-buttons--selected'</span>;
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">images</span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
      &#x3C;div class="slider__control">
        <span class="hljs-subst">${images.map((image, i) => <span class="hljs-string">`
            &#x3C;span class="slider__control-buttons<span class="hljs-subst">${i === <span class="hljs-number">0</span> ? <span class="hljs-string">'--selected'</span> : <span class="hljs-string">''</span>}</span>">&#x3C;/span>
        `</span>).join(<span class="hljs-string">''</span>)}</span>
      &#x3C;/div>    
    `</span>.trim();
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderPrevious</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container});
    <span class="hljs-keyword">const</span> previous = container.querySelector(<span class="hljs-string">'.slider__previous'</span>);
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slidePrevious();
      slider.start();
      evt.preventDefault();
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__previous">&#x3C;/a>'</span>;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliderNext</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">{container, parent: slider}</span>)</span> {
    <span class="hljs-built_in">super</span>({container});
    <span class="hljs-keyword">const</span> previous = container.querySelector(<span class="hljs-string">'.slider__next'</span>);
    previous.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">evt</span>) =></span> {
      slider.stop();
      slider.slideNext();
      slider.start();
      evt.preventDefault();
    });
  }

  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'&#x3C;a class="slider__next">&#x3C;/a>'</span>;
  }
}

<span class="hljs-keyword">const</span> images = [<span class="hljs-string">'https://p5.ssl.qhimg.com/t0119c74624763dd070.png'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01adbe3351db853eb3.jpg'</span>,
  <span class="hljs-string">'https://p2.ssl.qhimg.com/t01645cd5ba0c3b60cb.jpg'</span>,
  <span class="hljs-string">'https://p4.ssl.qhimg.com/t01331ac159b58f5478.jpg'</span>];

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.slider'</span>);
<span class="hljs-keyword">const</span> slider = <span class="hljs-keyword">new</span> Slider({container, images});
slider.registerSubComponents(SliderController, SliderPrevious, SliderNext);
slider.start();
</code></pre>
<p>äºæ˜¯æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªè™½ç„¶ç®€å•ï¼Œå´è‡ªæˆä½“ç³»çš„â€œç»„ä»¶æ¡†æ¶â€ï¼Œè¿™å·²ç»ä¸ä»…ä»…æ˜¯è€ƒè™‘Sliderè¿™ä¸€ä¸ªç»„ä»¶çš„é—®é¢˜ï¼Œä¾æ®è¿™ä¸€å¥—åŸåˆ™ï¼Œæˆ‘ä»¬çš„æ¡†æ¶å¯ä»¥é€æ­¥æ·»åŠ å’Œå®ç°å…¶ä»–çš„UIç»„ä»¶ï¼Œå¹¶ä¸”å¯ä»¥è®©è¿™äº›ç»„ä»¶è¢«å…¶ä»–ç»„ä»¶å¤ç”¨ã€‚</p>
<p>è¿™æ ·å¤ç”¨æ€§çš„é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚å½“ç„¶ï¼Œè¿™ä¸ªå°å°çš„ç»„ä»¶æ¡†æ¶è¿˜æœ‰è®¸å¤šç»†èŠ‚é—®é¢˜æœªè€ƒè™‘ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ol>
<li>æˆ‘ä»¬æŠ½è±¡äº†HTMLå’ŒJSï¼Œå´æ²¡æœ‰æŠŠCSSåŒ…å«è¿›æ¥ã€‚</li>
<li><code>registerSubComponents</code>æ–¹æ³•ä¼ å…¥çš„æ˜¯å­ç»„ä»¶ç±»ï¼Œå¦‚æœæˆ‘ä»¬è¦åˆ›å»ºå­ç»„ä»¶å¤šä¸ªå®ä¾‹ï¼Œè¿˜éœ€è¦ç»§ç»­å®Œå–„è¿™å¥—æœºåˆ¶æ‰èƒ½åšåˆ°ã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥åœ¨å­ç»„ä»¶ä¸­æ‹¿åˆ°parentå¯¹è±¡ï¼Œç„¶åé€šè¿‡parent.containeréšæ„æ“ä½œçˆ¶ç»„ä»¶çš„HTMLç»“æ„ï¼Œè¿™å¯¼è‡´ä¸å®‰å…¨å’Œå¯èƒ½çš„å†²çªï¼Œä¹Ÿéœ€è¦å¼•å…¥é€‚å½“çš„æœºåˆ¶æ¥å¤„ç†è¿™ä¸€é—®é¢˜ã€‚</li>
</ol>
<p>ä¸Šè¿°è¿™äº›é—®é¢˜å’Œå…¶ä»–ä¸€äº›é—®é¢˜æœ‰å¾…ç»§ç»­å®Œå–„ï¼Œåœ¨ä¸€èˆ¬è¾ƒæˆç†Ÿçš„UIæ¡†æ¶ä¸­ï¼Œè¿™äº›é—®é¢˜éƒ½æœ‰å¯¹åº”çš„è§£å†³æ–¹æ³•ï¼Œä¸è¿‡è¿™è¶…å‡ºäº†æˆ‘ä»¬è¯¾ç¨‹çš„èŒƒç•´ï¼Œæˆ‘ä»¬æŠŠè¿™äº›é—®é¢˜ç•™å¾…å…¶ä»–çš„è¯¾ç¨‹ã€‚</p>
</div>
</body>
</html>